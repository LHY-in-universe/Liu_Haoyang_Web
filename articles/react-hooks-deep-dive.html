<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>React Hooks Deep Dive - åˆ˜æµ©æ´‹</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="../index.html">åˆ˜æµ©æ´‹</a>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="../index.html" class="nav-link">é¦–é¡µ</a>
                </li>
                <li class="nav-item">
                    <a href="../index.html#about" class="nav-link">å…³äºæˆ‘</a>
                </li>
                <li class="nav-item">
                    <a href="../index.html#projects" class="nav-link">é¡¹ç›®ä½œå“</a>
                </li>
                <li class="nav-item">
                    <a href="../blog.html" class="nav-link active">åšå®¢</a>
                </li>
                <li class="nav-item">
                    <a href="../resume.html" class="nav-link">ç®€å†</a>
                </li>
                <li class="nav-item">
                    <a href="../index.html#contact" class="nav-link">è”ç³»æˆ‘</a>
                </li>
            </ul>
            <div class="language-switcher">
                <button class="lang-btn active" data-lang="zh" title="åˆ‡æ¢åˆ°ä¸­æ–‡">ä¸­</button>
                <button class="lang-btn " data-lang="en" title="Switch to English">EN</button>
            </div>
            <div class="nav-toggle" id="mobile-menu">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <main class="main-content">
        <section class="page-header">
            <div class="container">
                <div class="page-header-content">
                    <h1>React Hooks Deep Dive</h1>
                    <p>React Hooksæ·±åº¦è§£æï¼šä»å…¥é—¨åˆ°ç²¾é€š !React Hooks å¼•è¨€ React Hooks æ˜¯ React 16.8 å¼•å…¥çš„ä¸€ä¸ªé‡è¦ç‰¹æ€§ï¼Œå®ƒè®©æˆ‘ä»¬èƒ½å¤Ÿåœ¨å‡½æ•°ç»„ä»¶ä¸­ä½¿ç”¨çŠ¶æ€å’Œå…¶ä»– React ç‰¹æ€§ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ Hooks çš„å·¥ä½œåŸç†ã€æœ€ä½³å®è·µä»¥åŠå¸¸è§çš„ä½¿ç”¨åœºæ™¯ã€‚ ä»€ä¹ˆæ˜¯ React Hooksï¼Ÿ Hooks æ˜¯ä¸€äº›ç‰¹æ®Šçš„å‡½æ•°ï¼Œå®ƒä»¬è®©ä½ èƒ½å¤Ÿ"é’©å…¥"React çš„ç‰¹æ€§ã€‚æœ€å¸¸ç”¨çš„ Hooks...</p>
                    <div class="breadcrumb">
                        <a href="../index.html">é¦–é¡µ</a> / <a href="../blog.html">åšå®¢</a> / <span>React Hooks Deep Dive</span>
                    </div>
                    <div class="article-meta" style="margin-top: 1.5rem; text-align: center;">
                        <span style="color: var(--text-light); margin-right: 2rem;">ğŸ“… 2025å¹´ 8æœˆ 11</span>
                        <span style="color: var(--text-light); margin-right: 2rem;">â±ï¸ 4 åˆ†é’Ÿé˜…è¯»</span>
                        <span style="color: var(--text-light);">ğŸ‘ï¸ 527 é˜…è¯»</span>
                    </div>
                </div>
            </div>
        </section>

        <section class="article-section" style="padding: 4rem 0; background: var(--bg-white);">
            <div class="container">
                <div class="article-layout" style="display: grid; grid-template-columns: 3fr 1fr; gap: 3rem;">
                    <article class="article-content" style="background: var(--bg-white); padding: 2rem; border-radius: 1rem; box-shadow: var(--shadow);">
                        <div class="article-tags" style="margin-bottom: 2rem;">
                            <span class="tag">æŠ€æœ¯</span>
                        </div>

                        <div class="article-body" style="line-height: 1.8; font-size: 1.125rem;">
                            <h1>React Hooksæ·±åº¦è§£æï¼šä»å…¥é—¨åˆ°ç²¾é€š</h1>
<p><img src="https://via.placeholder.com/800x400/4F46E5/FFFFFF?text=React+Hooks" alt="React Hooks"></p>
<h2>å¼•è¨€</h2>
<p>React Hooks æ˜¯ React 16.8 å¼•å…¥çš„ä¸€ä¸ªé‡è¦ç‰¹æ€§ï¼Œå®ƒè®©æˆ‘ä»¬èƒ½å¤Ÿåœ¨å‡½æ•°ç»„ä»¶ä¸­ä½¿ç”¨çŠ¶æ€å’Œå…¶ä»– React ç‰¹æ€§ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ Hooks çš„å·¥ä½œåŸç†ã€æœ€ä½³å®è·µä»¥åŠå¸¸è§çš„ä½¿ç”¨åœºæ™¯ã€‚</p>
<h2>ä»€ä¹ˆæ˜¯ React Hooksï¼Ÿ</h2>
<p>Hooks æ˜¯ä¸€äº›ç‰¹æ®Šçš„å‡½æ•°ï¼Œå®ƒä»¬è®©ä½ èƒ½å¤Ÿ&quot;é’©å…¥&quot;React çš„ç‰¹æ€§ã€‚æœ€å¸¸ç”¨çš„ Hooks åŒ…æ‹¬ï¼š</p>
<ul>
<li><code>useState</code> - ç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­æ·»åŠ çŠ¶æ€</li>
<li><code>useEffect</code> - ç”¨äºå¤„ç†å‰¯ä½œç”¨</li>
<li><code>useContext</code> - ç”¨äºè®¿é—® React Context</li>
<li><code>useReducer</code> - ç”¨äºå¤æ‚çŠ¶æ€ç®¡ç†</li>
<li><code>useMemo</code> å’Œ <code>useCallback</code> - ç”¨äºæ€§èƒ½ä¼˜åŒ–</li>
</ul>
<h2>useState æ·±å…¥è§£æ</h2>
<h3>åŸºç¡€ç”¨æ³•</h3>
<pre><code class="language-javascript">import React, { useState } from &#39;react&#39;;

function Counter() {
  const [count, setCount] = useState(0);

  return (
    &lt;div&gt;
      &lt;p&gt;You clicked {count} times&lt;/p&gt;
      &lt;button onClick={() =&gt; setCount(count + 1)}&gt;
        Click me
      &lt;/button&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<h3>å‡½æ•°å¼æ›´æ–°</h3>
<p>å½“æ–°çŠ¶æ€éœ€è¦åŸºäºä¹‹å‰çš„çŠ¶æ€è®¡ç®—æ—¶ï¼Œæ¨èä½¿ç”¨å‡½æ•°å¼æ›´æ–°ï¼š</p>
<pre><code class="language-javascript">// æ¨èæ–¹å¼
setCount(prevCount =&gt; prevCount + 1);

// é¿å…è¿™æ ·åš
setCount(count + 1);
</code></pre>
<h3>æƒ°æ€§åˆå§‹åŒ–</h3>
<p>å¯¹äºè®¡ç®—æˆæœ¬è¾ƒé«˜çš„åˆå§‹çŠ¶æ€ï¼Œå¯ä»¥ä½¿ç”¨å‡½æ•°æ¥å»¶è¿Ÿåˆå§‹åŒ–ï¼š</p>
<pre><code class="language-javascript">const [state, setState] = useState(() =&gt; {
  const initialState = someExpensiveComputation(props);
  return initialState;
});
</code></pre>
<h2>useEffect è¯¦è§£</h2>
<h3>åŸºç¡€ç”¨æ³•</h3>
<pre><code class="language-javascript">import React, { useState, useEffect } from &#39;react&#39;;

function Example() {
  const [count, setCount] = useState(0);

  // ç›¸å½“äº componentDidMount å’Œ componentDidUpdate
  useEffect(() =&gt; {
    document.title = `You clicked ${count} times`;
  });

  return (
    &lt;div&gt;
      &lt;p&gt;You clicked {count} times&lt;/p&gt;
      &lt;button onClick={() =&gt; setCount(count + 1)}&gt;
        Click me
      &lt;/button&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<h3>æ¸…ç†æ•ˆæœ</h3>
<pre><code class="language-javascript">useEffect(() =&gt; {
  const timer = setInterval(() =&gt; {
    setCount(prevCount =&gt; prevCount + 1);
  }, 1000);

  // æ¸…ç†å‡½æ•°
  return () =&gt; {
    clearInterval(timer);
  };
}, []); // ç©ºä¾èµ–æ•°ç»„æ„å‘³ç€è¿™ä¸ª effect åªè¿è¡Œä¸€æ¬¡
</code></pre>
<h3>ä¾èµ–æ•°ç»„</h3>
<pre><code class="language-javascript">useEffect(() =&gt; {
  fetchUserData(userId);
}, [userId]); // åªæœ‰å½“ userId æ”¹å˜æ—¶æ‰é‡æ–°è¿è¡Œ
</code></pre>
<h2>è‡ªå®šä¹‰ Hooks</h2>
<p>è‡ªå®šä¹‰ Hooks è®©æˆ‘ä»¬èƒ½å¤ŸæŠ½å–ç»„ä»¶é€»è¾‘åˆ°å¯å¤ç”¨çš„å‡½æ•°ä¸­ï¼š</p>
<pre><code class="language-javascript">// è‡ªå®šä¹‰ Hook
function useCounter(initialValue = 0) {
  const [count, setCount] = useState(initialValue);

  const increment = useCallback(() =&gt; {
    setCount(prevCount =&gt; prevCount + 1);
  }, []);

  const decrement = useCallback(() =&gt; {
    setCount(prevCount =&gt; prevCount - 1);
  }, []);

  const reset = useCallback(() =&gt; {
    setCount(initialValue);
  }, [initialValue]);

  return {
    count,
    increment,
    decrement,
    reset
  };
}

// ä½¿ç”¨è‡ªå®šä¹‰ Hook
function Counter() {
  const { count, increment, decrement, reset } = useCounter(0);

  return (
    &lt;div&gt;
      &lt;p&gt;Count: {count}&lt;/p&gt;
      &lt;button onClick={increment}&gt;+&lt;/button&gt;
      &lt;button onClick={decrement}&gt;-&lt;/button&gt;
      &lt;button onClick={reset}&gt;Reset&lt;/button&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<h2>æ€§èƒ½ä¼˜åŒ–</h2>
<h3>useMemo</h3>
<pre><code class="language-javascript">function ExpensiveComponent({ items }) {
  const expensiveValue = useMemo(() =&gt; {
    return items.reduce((sum, item) =&gt; sum + item.value, 0);
  }, [items]);

  return &lt;div&gt;{expensiveValue}&lt;/div&gt;;
}
</code></pre>
<h3>useCallback</h3>
<pre><code class="language-javascript">function ParentComponent({ items }) {
  const [filter, setFilter] = useState(&#39;&#39;);

  const handleItemClick = useCallback((item) =&gt; {
    console.log(&#39;Item clicked:&#39;, item);
  }, []);

  const filteredItems = useMemo(() =&gt; {
    return items.filter(item =&gt; item.name.includes(filter));
  }, [items, filter]);

  return (
    &lt;div&gt;
      &lt;input 
        value={filter}
        onChange={(e) =&gt; setFilter(e.target.value)}
      /&gt;
      {filteredItems.map(item =&gt; (
        &lt;Item 
          key={item.id} 
          item={item} 
          onClick={handleItemClick}
        /&gt;
      ))}
    &lt;/div&gt;
  );
}
</code></pre>
<h2>Hooks æœ€ä½³å®è·µ</h2>
<h3>1. åªåœ¨æœ€é¡¶å±‚è°ƒç”¨ Hooks</h3>
<pre><code class="language-javascript">// âœ… æ­£ç¡®
function MyComponent() {
  const [count, setCount] = useState(0);
  
  if (count &gt; 10) {
    // âŒ é”™è¯¯ï¼šåœ¨æ¡ä»¶è¯­å¥ä¸­è°ƒç”¨ Hook
    // const [name, setName] = useState(&#39;&#39;);
  }
  
  return &lt;div&gt;{count}&lt;/div&gt;;
}

// âœ… æ­£ç¡®çš„æ–¹å¼
function MyComponent() {
  const [count, setCount] = useState(0);
  const [name, setName] = useState(&#39;&#39;);
  
  return &lt;div&gt;{count &gt; 10 ? name : count}&lt;/div&gt;;
}
</code></pre>
<h3>2. åªåœ¨ React å‡½æ•°ä¸­è°ƒç”¨ Hooks</h3>
<pre><code class="language-javascript">// âœ… åœ¨ React å‡½æ•°ç»„ä»¶ä¸­è°ƒç”¨
function MyComponent() {
  const [state, setState] = useState(0);
  return &lt;div&gt;{state}&lt;/div&gt;;
}

// âœ… åœ¨è‡ªå®šä¹‰ Hook ä¸­è°ƒç”¨
function useMyHook() {
  const [state, setState] = useState(0);
  return [state, setState];
}
</code></pre>
<h3>3. ä½¿ç”¨ ESLint æ’ä»¶</h3>
<p>å®‰è£…å¹¶é…ç½® <code>eslint-plugin-react-hooks</code> æ¥å¸®åŠ©ä½ éµå¾ª Hooks çš„è§„åˆ™ã€‚</p>
<h2>å¸¸è§é™·é˜±</h2>
<h3>1. é—­åŒ…é™·é˜±</h3>
<pre><code class="language-javascript">// âŒ é—®é¢˜ï¼šè®¡æ—¶å™¨æ€»æ˜¯æ˜¾ç¤º 0
function Timer() {
  const [count, setCount] = useState(0);

  useEffect(() =&gt; {
    const timer = setInterval(() =&gt; {
      setCount(count + 1); // count å§‹ç»ˆæ˜¯ 0
    }, 1000);

    return () =&gt; clearInterval(timer);
  }, []);

  return &lt;div&gt;{count}&lt;/div&gt;;
}

// âœ… è§£å†³æ–¹æ¡ˆ 1ï¼šä½¿ç”¨å‡½æ•°å¼æ›´æ–°
function Timer() {
  const [count, setCount] = useState(0);

  useEffect(() =&gt; {
    const timer = setInterval(() =&gt; {
      setCount(prevCount =&gt; prevCount + 1);
    }, 1000);

    return () =&gt; clearInterval(timer);
  }, []);

  return &lt;div&gt;{count}&lt;/div&gt;;
}

// âœ… è§£å†³æ–¹æ¡ˆ 2ï¼šä½¿ç”¨ useRef
function Timer() {
  const [count, setCount] = useState(0);
  const countRef = useRef(count);
  
  countRef.current = count;

  useEffect(() =&gt; {
    const timer = setInterval(() =&gt; {
      setCount(countRef.current + 1);
    }, 1000);

    return () =&gt; clearInterval(timer);
  }, []);

  return &lt;div&gt;{count}&lt;/div&gt;;
}
</code></pre>
<h3>2. ä¾èµ–æ•°ç»„ä¸å®Œæ•´</h3>
<pre><code class="language-javascript">// âŒ é—®é¢˜ï¼šä¾èµ–æ•°ç»„ä¸å®Œæ•´
function UserProfile({ userId }) {
  const [user, setUser] = useState(null);

  useEffect(() =&gt; {
    fetchUser(userId).then(setUser);
  }, []); // ç¼ºå°‘ userId ä¾èµ–

  return &lt;div&gt;{user?.name}&lt;/div&gt;;
}

// âœ… è§£å†³æ–¹æ¡ˆï¼šæ·»åŠ å®Œæ•´çš„ä¾èµ–
function UserProfile({ userId }) {
  const [user, setUser] = useState(null);

  useEffect(() =&gt; {
    fetchUser(userId).then(setUser);
  }, [userId]); // åŒ…å«æ‰€æœ‰ä¾èµ–

  return &lt;div&gt;{user?.name}&lt;/div&gt;;
}
</code></pre>
<h2>æ€»ç»“</h2>
<p>React Hooks æ˜¯ç°ä»£ React å¼€å‘çš„åŸºç¡€ï¼Œå®ƒä»¬æä¾›äº†ä¸€ç§æ›´ç®€æ´ã€æ›´ç›´è§‚çš„æ–¹å¼æ¥ç®¡ç†ç»„ä»¶çŠ¶æ€å’Œå‰¯ä½œç”¨ã€‚é€šè¿‡ç†è§£ Hooks çš„å·¥ä½œåŸç†å’Œéµå¾ªæœ€ä½³å®è·µï¼Œæˆ‘ä»¬å¯ä»¥å†™å‡ºæ›´æ¸…æ™°ã€æ›´å¯ç»´æŠ¤çš„ä»£ç ã€‚</p>
<p>è®°ä½ä»¥ä¸‹å‡ ä¸ªè¦ç‚¹ï¼š</p>
<ol>
<li><strong>åªåœ¨æœ€é¡¶å±‚è°ƒç”¨ Hooks</strong></li>
<li><strong>æ­£ç¡®ä½¿ç”¨ä¾èµ–æ•°ç»„</strong></li>
<li><strong>ç†è§£é—­åŒ…çš„å½±å“</strong></li>
<li><strong>å–„ç”¨è‡ªå®šä¹‰ Hooks æŠ½å–é€»è¾‘</strong></li>
<li><strong>ä½¿ç”¨ useMemo å’Œ useCallback è¿›è¡Œæ€§èƒ½ä¼˜åŒ–</strong></li>
</ol>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£å’Œä½¿ç”¨ React Hooksï¼</p>
<hr>
<h2>ç›¸å…³é˜…è¯»</h2>
<ul>
<li><a href="https://reactjs.org/docs/hooks-intro.html">React å®˜æ–¹æ–‡æ¡£ - Hooks</a></li>
<li><a href="https://overreacted.io/a-complete-guide-to-useeffect/">useEffect å®Œæ•´æŒ‡å—</a></li>
<li><a href="https://www.patterns.dev/posts/react-hooks-patterns/">React Hooks æœ€ä½³å®è·µ</a></li>
</ul>
<h2>æ ‡ç­¾</h2>
<p><code>React</code> <code>JavaScript</code> <code>å‰ç«¯å¼€å‘</code> <code>Hooks</code> <code>å‡½æ•°ç»„ä»¶</code></p>

                        </div>
                        
                        <style>
                            /* åŸºç¡€å›¾ç‰‡æ ·å¼ */
                            .article-body .article-image {
                                max-width: 100%;
                                height: auto;
                                border-radius: 8px;
                                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
                                margin: 1.5rem 0;
                                display: block;
                                transition: transform 0.3s ease, box-shadow 0.3s ease;
                            }
                            
                            .article-body .article-image:hover {
                                transform: translateY(-2px);
                                box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
                            }
                            
                            /* å°ºå¯¸å’Œä½ç½®ç±» */
                            .article-body .center-image {
                                margin: 1.5rem auto;
                            }
                            
                            .article-body .small-image {
                                max-width: 400px;
                                margin: 1rem auto;
                            }
                            
                            .article-body .large-image {
                                width: 100%;
                                max-width: none;
                                margin: 2rem 0;
                            }
                            
                            .article-body .float-left {
                                float: left;
                                margin: 0 1.5rem 1rem 0;
                                max-width: 300px;
                            }
                            
                            .article-body .float-right {
                                float: right;
                                margin: 0 0 1rem 1.5rem;
                                max-width: 300px;
                            }
                            
                            /* Figureå’ŒCaptionæ ·å¼ */
                            .article-body .image-figure {
                                margin: 2rem 0;
                                text-align: center;
                                background: var(--bg-white);
                                border-radius: 12px;
                                padding: 1rem;
                                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
                            }
                            
                            .article-body figcaption {
                                margin-top: 0.75rem;
                                font-size: 0.875rem;
                                color: var(--text-light);
                                font-style: italic;
                                line-height: 1.4;
                            }
                            
                            /* å“åº”å¼è®¾è®¡ */
                            @media (max-width: 768px) {
                                .article-body .article-image {
                                    margin: 1rem 0;
                                }
                                
                                .article-body .float-left,
                                .article-body .float-right {
                                    float: none;
                                    margin: 1rem auto;
                                    max-width: 100%;
                                }
                                
                                .article-body .small-image {
                                    max-width: 100%;
                                }
                                
                                .article-body .image-figure {
                                    margin: 1.5rem 0;
                                    padding: 0.75rem;
                                }
                            }
                            
                            /* å›¾ç‰‡åŠ è½½çŠ¶æ€ */
                            .article-body .article-image[loading="lazy"] {
                                opacity: 0;
                                animation: fadeInImage 0.5s ease forwards;
                            }
                            
                            @keyframes fadeInImage {
                                from { opacity: 0; transform: translateY(10px); }
                                to { opacity: 1; transform: translateY(0); }
                            }
                        </style>

                        <div class="article-footer" style="margin-top: 3rem; padding-top: 2rem; border-top: 1px solid var(--border-color);">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                                <div class="article-stats">
                                    <span style="margin-right: 1rem;">ğŸ‘ï¸ 527</span>
                                    <span style="margin-right: 1rem;">ğŸ’¬ 39</span>
                                    <span>â¤ï¸ 11</span>
                                </div>
                                <div class="article-share">
                                    <span style="color: var(--text-light); margin-right: 1rem;">åˆ†äº«ï¼š</span>
                                    <button class="btn btn-sm btn-outline">å¾®ä¿¡</button>
                                    <button class="btn btn-sm btn-outline" style="margin-left: 0.5rem;">å¾®åš</button>
                                </div>
                            </div>
                        </div>
                    </article>

                    <aside class="article-sidebar">
                        <div class="sidebar-widget" style="background: var(--bg-light); padding: 1.5rem; border-radius: 1rem; margin-bottom: 2rem;">
                            <h3>è¿”å›å¯¼èˆª</h3>
                            <div class="quick-nav">
                                <a href="../blog.html" class="quick-nav-item">
                                    <span class="nav-icon">ğŸ“</span>
                                    <span>åšå®¢é¦–é¡µ</span>
                                </a>
                                <a href="../index.html" class="quick-nav-item">
                                    <span class="nav-icon">ğŸ </span>
                                    <span>è¿”å›ä¸»é¡µ</span>
                                </a>
                                <a href="../resume.html" class="quick-nav-item">
                                    <span class="nav-icon">ğŸ“‹</span>
                                    <span>ä¸ªäººç®€å†</span>
                                </a>
                            </div>
                        </div>
                    </aside>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <p>&copy; 2024 åˆ˜æµ©æ´‹. ä¿ç•™æ‰€æœ‰æƒåˆ©.</p>
                <div class="social-links">
                    <a href="#" aria-label="GitHub">ğŸ™</a>
                    <a href="#" aria-label="LinkedIn">ğŸ’¼</a>
                    <a href="#" aria-label="Email">ğŸ“§</a>
                </div>
            </div>
        </div>
    </footer>

    <script src="../script.js"></script>
</body>
</html>